{"version":3,"file":"validators.js","sourceRoot":"","sources":["../src/validators.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,qDAuByB;AAEzB,MAAa,IAAI;CAqBhB;AAPC;IAbC,IAAA,4BAAU,GAAE;IACZ,IAAA,0BAAQ,GAAE;IACV,IAAA,2BAAS,EAAC,CAAC,EAAE;QACZ,OAAO,EAAE,CAAC,IAAyB,EAAE,EAAE;YACrC,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;gBAC3B,OAAO,0CAA0C,CAAC;aACnD;iBAAM;gBACL,OAAO,CACL,+BAA+B,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,aAAa,CACtE,CAAC;aACH;QACH,CAAC;KACF,CAAC;;mCACa;AAMf;IAJC,IAAA,4BAAU,GAAE;IACZ,IAAA,uBAAK,GAAE;IACP,IAAA,qBAAG,EAAC,CAAC,CAAC;IACN,IAAA,qBAAG,EAAC,EAAE,CAAC;;oCACQ;AApBlB,oBAqBC;AACD,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;AACrB,kBAAkB;AACnB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;AACjB,IAAA,0BAAQ,EAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,EAAE;IAC7B,0CAA0C;IAC1C,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;QACrB,OAAO,CAAC,GAAG,CAAC,6BAA6B,EAAE,MAAM,CAAC,CAAC;QACnD,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YACzB,IAAG,OAAO,CAAC,WAAW,EAAC;gBACvB,KAAI,IAAI,CAAC,GAAG,EAAC,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,EACxD;oBACE,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;oBACnB,KAAK,CAAC,kBAAkB,GAAG,KAAK,CAAC,CAAC;iBACnC;aACF;QACH,CAAC,CAAC,CAAC;KACJ;SAAM;QACL,OAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;KACnC;AACH,CAAC,CAAC,CAAC;AAEH,IAAA,kCAAgB,EAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,MAAM,EAAE,EAAE;IACtC,OAAO,CAAC,GAAG,CAAC,gDAAgD,EAAE,MAAM,CAAC,CAAC;AACxE,CAAC,CAAC,CAAC;AACH,KAAK;AACL,SAAe,uBAAuB,CAAC,KAAW;;QAChD,IAAI;YACF,MAAM,IAAA,kCAAgB,EAAC,KAAK,CAAC,CAAC;SAC/B;QAAC,OAAO,MAAM,EAAE;YACf,OAAO,CAAC,GAAG,CACT,wDAAwD,EACxD,MAAM,CACP,CAAC;SACH;IACH,CAAC;CAAA;AAED,sCAAsC;AACtC,qCAAqC;AACrC,yBAAyB;AACzB,oCAAoC;AACpC,uBAAuB;AACvB,sCAAsC;AACtC,wBAAwB;AACxB,wBAAwB;AACxB,uBAAuB;AACvB,OAAO;AAEP,mCAAmC;AACnC,gCAAgC;AAChC,IAAI","sourcesContent":["import {\n  validate,\n  validateOrReject,\n  Contains,\n  IsInt,\n  Length,\n  IsEmail,\n  IsFQDN,\n  IsDate,\n  Min,\n  Max,\n  MinLength,\n  MaxLength,\n  IsDefined,\n  ValidationError,\n  ValidationArguments,\n  maxLength,\n  isDefined,\n  isString,\n  IsString,\n  IsEmpty,\n  ValidatorOptions,\n  IsNotEmpty,\n} from \"class-validator\";\n\nexport class Post {\n  @IsNotEmpty()\n  @IsString()\n  @MinLength(2, {\n    message: (args: ValidationArguments) => {\n      if (args.value.length === 2) {\n        return \"Too short, minimum length is 2 character\";\n      } else {\n        return (\n          \"Too short, minimum length is \" + args.constraints[0] + \" characters\"\n        );\n      }\n    },\n  })\n  title!: string;\n\n  @IsNotEmpty()\n  @IsInt()\n  @Min(0)\n  @Max(10)\n  amount!: number;\n}\nlet post = new Post();\n // should not pass\npost.amount = -2;\nvalidate(post).then((errors) => {\n  // errors is an array of validation errors\n  if (errors.length > 0) {\n    console.log(\"validation failed. errors: \", errors);\n    errors.forEach((element) => {\n      if(element.constraints){\n      for(let [key,value] of Object.entries(element.constraints))\n        {\n          console.log(value);\n          alert(\"Error type form \" + value);\n        }\n      }\n    });\n  } else {\n    console.log(\"validation succeed\");\n  }\n});\n\nvalidateOrReject(post).catch((errors) => {\n  console.log(\"Promise rejected (validation failed). Errors: \", errors);\n});\n// or\nasync function validateOrRejectExample(input: Post) {\n  try {\n    await validateOrReject(input);\n  } catch (errors) {\n    console.log(\n      \"Caught promise rejection (validation failed). Errors: \",\n      errors\n    );\n  }\n}\n\n// export interface ValidatorOptions {\n//   skipMissingProperties?: boolean;\n//   whitelist?: boolean;\n//   forbidNonWhitelisted?: boolean;\n//   groups?: string[];\n//   dismissDefaultMessages?: boolean;\n//   validationError?: {\n//     target?: boolean;\n//     value?: boolean;\n//   };\n\n//   forbidUnknownValues?: boolean;\n//   stopAtFirstError?: boolean;\n// }\n"]}